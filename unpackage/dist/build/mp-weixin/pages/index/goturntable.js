(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/goturntable"],{"0db7":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var r=function(){var t=this,e=t.$createElement;t._self._c},a=[]},5557:function(t,e,n){"use strict";n.r(e);var i=n("56d3"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"56d3":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=null,i=100,r={data:function(){return{shareShow:!1,shareCoverShow:!1,name:"",isif:!1,cjtime:"",images:"",userlist:[],nowIndex:0,color:[0,0,0,0,0,0,0,0],award:[{img:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_34_47_2.png",name:"电冰箱",ctype:2},{img:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_35_36_10.png",name:"洗衣机",ctype:20},{img:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_35_36_10.png",name:"手机",ctype:0},{img:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_34_47_2.png",name:"笔记本",ctype:0},{img:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_35_36_10.png",name:"空调",ctype:0},{img:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_34_47_2.png",name:"电脑",ctype:0},{img:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_35_36_10.png",name:"谢谢参与",ctype:0},{img:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_35_36_10.png",name:"冰箱",ctype:0}],Luck:!0,lucktype:2,luckPosition:"",prize:"",prizeimg:"https://cdnapp.jixianzhilu.cn/circle_image/2021_06_8_14_35_36_10.png",shareState:!1,shareTitle:"您已经没有抽奖机会了",styleObject:{"border-bottom":"3px solid #A24A1E"},styleObject1:"",free:0,payout:0,content:"",contentobj:{},isStart:!0,rotateAngle:0,cycle:1,duration:5e3,circle:5,mode:"cubic-bezier(0.2, 0, 0, 1)",size:686,template:t.getStorageSync("__ddminiTemplateConfig"),userInfoData:""}},computed:{rotateStyle:function(){return"\n\t\ttransition: transform ".concat(this.duration,"ms ").concat(this.mode,";\n\t\ttransform: rotate(").concat(this.rotateAngle,"deg);")},scale:function(){return"transform: scale(".concat(this.size/686,")")}},created:function(){var t=(new Date).getTime();function e(t){var e=new Date(t),n=e.getFullYear()+"-",i=(e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1)+"-",r=(e.getDate()<10?"0"+e.getDate():e.getDate())+" ",a=(e.getHours()<10?"0"+e.getHours():e.getHours())+":",o=(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes())+":",c=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return n+i+r+a+o+c}var n=e(t);this.cjtime=n},onShow:function(){this.getRotarylotteryInfo(),this.getrotarylotteryNumber(),this.getrotarylotteryList(),this.getUserInfo()},onShareAppMessage:function(){var e=t.getStorageSync("__ddminiShopInfo");return{title:e.shop_share_title,imageUrl:e.shop_share_pic,path:"pages/index/index"}},methods:{getUserInfo:function(){var t=this;t.Get(t.Url.userInfo).then((function(e){0===e.code&&(t.userInfoData=e.data)}))},getRotarylotteryInfo:function(){var t=this;t.Get(t.Url.rotarylotteryInfo).then((function(e){0===e.code&&(t.award=e.data.prize_list,t.images=e.data.pic,t.contentobj=e.data)})),t.Get(t.Url.noticeDetail,{id:123}).then((function(e){0===e.code&&(t.content=e.data.contents)}))},exchange:function(){var e=this,n=this;if(""!=this.name){var i={code:this.name};t.showModal({title:"提示",content:"确定兑换？",cancelText:"取消",confirmText:"确认",showCancel:!0,success:function(r){r.confirm&&n.Get(n.Url.rotarylotteryNumber,i).then((function(i){0===i.code?(e.name="",t.showToast({title:"兑换成功",icon:"none"}),n.getrotarylotteryNumber()):t.showToast({title:i.msg,icon:"none"})}))}})}else t.showToast({title:"请输入口令",icon:"none"})},getrotarylotteryNumber:function(){var t=this,e=this;e.Get(e.Url.rotarylotteryNumber).then((function(e){0===e.code&&(t.free=e.data.number)}))},getrotarylotteryList:function(){var t=this;t.Get(t.Url.rotarylotteryList).then((function(e){0===e.code&&(t.userlist=e.data.list)}))},toggleTabs:function(t){this.nowIndex=t,0==t?this.getRotarylotteryInfo():this.getrotarylotteryList()},handleHiddenShare:function(){this.shareState=!1,this.shareTitle="您已经没有抽奖机会了"},clickLuckTap:function(){var e=this;if(e.userInfoData.score<e.contentobj.score)return e.shareTitle="可用积分不足",e.shareState=!0,e.lucktype=0,void(e.Luck=!0);e.Get(e.Url.rotarylotteryNumber,{type:1}).then((function(n){0===n.code?(e.getUserInfo(),e.clickLuck()):t.showModal({content:n.msg,showCancel:!1})}))},clickLuck:function(){var t=this;if(0!=t.Luck){t.Luck=!1,0!=this.free&&(this.free=this.free-1),0==this.free&&(this.payout=1),clearInterval(n);var e=0;n=setInterval((function(){var n=[0,0,0,0,0,0,0,0];e>7&&(e=0),n[e]=1,t.color=n,e++}),i),t.Get(t.Url.rotarylotteryLucky).then((function(e){0===e.code&&(t.prize=e.data.win_prize_title,t.prizeimg=e.data.win_prize_pic,t.stop(e.data.zzflag),t.getUserInfo())}))}},stop:function(t){var e=this;clearInterval(n);for(var r=-1,a=e.color,o=0;o<a.length;o++)1==a[o]&&(r=o);var c=r+1;e.stopLuck(t,c,i,10)},stopLuck:function(t,e,n,i){var r=this;r.color;setTimeout((function(){var a=[0,0,0,0,0,0,0,0];e>7&&(e=0),a[e]=1,r.color=a,n<400||e!=t?(i++,n+=i,e++,r.stopLuck(t,e,n,i)):(r.shareState=!0,r.Luck=!0,r.lucktype=1,1==r.payout&&(r.limitnum=r.limitnum-3))}),n)},startaTap:function(){var e=this;if(e.userInfoData.score<e.contentobj.score)return e.shareTitle="可用积分不足",e.shareState=!0,e.lucktype=0,void(e.Luck=!0);e.Get(e.Url.rotarylotteryNumber,{type:1}).then((function(n){0===n.code?(e.getUserInfo(),e.starta()):t.showModal({content:n.msg,showCancel:!1})}))},starta:function(){var t=this;if(0!=this.isStart){if(this.isStart=!1,0==this.free)return this.shareState=!0,this.lucktype=0,void(this.isStart=!0);0!=this.free&&(this.free=this.free-1),0==this.free&&(this.payout=1),this.Get(this.Url.rotarylotteryLucky).then((function(e){0===e.code&&(t.rotateAngle=360*t.circle*t.cycle-(45+45*(e.data.zzflag-1)),t.cycle++,t.prize=e.data.win_prize_title,t.prizeimg=e.data.win_prize_pic,setTimeout((function(){t.shareState=!0,t.lucktype=1}),6e3),t.isStart=!0,t.getUserInfo())}))}}}};e.default=r}).call(this,n("543d")["default"])},5966:function(t,e,n){"use strict";n.r(e);var i=n("0db7"),r=n("5557");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("716a");var o,c=n("f0c5"),s=Object(c["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],o);e["default"]=s.exports},"6af9":function(t,e,n){"use strict";(function(t){n("d37c");i(n("66fd"));var e=i(n("5966"));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"716a":function(t,e,n){"use strict";var i=n("8f7a"),r=n.n(i);r.a},"8f7a":function(t,e,n){}},[["6af9","common/runtime","common/vendor"]]]);