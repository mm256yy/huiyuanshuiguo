(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/index"],{"08f1":function(t,e,n){},"14d9":function(t,e,n){"use strict";(function(t){n("d37c");a(n("66fd"));var e=a(n("8340"));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"2aa7":function(t,e,n){"use strict";n.r(e);var a=n("c57d"),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"3afa":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={aicon:function(){return n.e("components/aicon/aicon").then(n.bind(null,"6387"))},about:function(){return n.e("components/about/about").then(n.bind(null,"8e41"))},tabbar:function(){return n.e("components/tabbar/tabbar").then(n.bind(null,"bab2"))}},i=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.editNameStatus=!0})},o=[]},8340:function(t,e,n){"use strict";n.r(e);var a=n("3afa"),i=n("2aa7");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("d48e");var r,u=n("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);e["default"]=s.exports},c57d:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=getApp(),a={data:function(){return{template:t.getStorageSync("__ddminiTemplateConfig"),userInfoData:"",userNickName:"微信用户",editNameStatus:!1,orderList:[{icon:"formfill",name:"全部订单",path:"/pages/order/list"},{icon:"card_fill",name:"待付款",path:"/pages/order/list?status=0"},{icon:"deliver_fill",name:"待收货",path:"/pages/order/list?status=2"},{icon:"sponsorfill",name:"退款/售后",path:"/pages/order/service/index"}],menuList:[{id:5,icon:"appreciatefill",name:"推荐返现",path:"/pages/user/profit"},{id:6,icon:"fapiao",name:"申请开票",path:"/pages/order/invoice_list"},{id:2,icon:"favorfill",name:"商品收藏",path:"/pages/user/favorite"},{id:3,icon:"locationfill",name:"收货地址",path:"/pages/user/addressList"},{id:4,icon:"servicefill",name:"在线客服",path:""}],myBannerData:"",cartNums:0,couponsNumber:0}},onLoad:function(){var t=this;t.getBannerList()},onShow:function(){var t=this;t.getUserInfo(),t.getCartList(),t.getCouponsUserList()},methods:{getCouponsUserList:function(){var t=this,e={status:1};t.Get(t.Url.couponsUserList,e).then((function(e){0===e.code&&(t.couponsNumber=e.data.length)}))},getCartList:function(){var t=this;t.Get(t.Url.cartList).then((function(e){if(0===e.code){var n=0;e.data.forEach((function(t){n+=t.num})),t.cartNums=n}}))},getBannerList:function(){var t=this;t.Get(t.Url.bannerList,{ctype:"myTop"}).then((function(e){0===e.code&&e.data.length>0&&(t.myBannerData=e.data[0])}))},getUserInfo:function(){var t=this;t.Get(t.Url.userInfo).then((function(e){0===e.code&&(t.userInfoData=e.data,t.userNickName=e.data.cname)}))},chooseavatar:function(e){var n=this;n.editNameStatus=!1,t.showLoading({title:"头像更新中",mask:!0}),n.Upload(n.Url.uploadFile,e.detail.avatarUrl).then((function(e){0===e.code?n.Post(n.Url.userEdit,{avatar_url:e.url}).then((function(a){0===a.code&&(n.userInfoData.avatar_url=e.url,n.editNameStatus=!1,t.hideLoading(),t.showToast({title:"更新成功"}))})):(t.hideLoading(),t.showModal({content:e.msg,showCancel:!1}))}))},updatenickname:function(e){var n=this;t.showLoading({title:"昵称更新中",mask:!0}),n.Post(n.Url.userEdit,{cname:e.detail.value}).then((function(a){0===a.code&&(n.editNameStatus=!1,n.userNickName=e.detail.value,t.hideLoading(),t.showToast({title:"更新成功"}))}))},getPathTap:function(e){"fenzhang"===e?t.showModal({title:"邀请得现金奖励",content:"将此小程序分享给您的好友或者好友通过您的二维码进入小程序下单后，您将获得现金奖励（现金将会直接转入您的微信零钱内）。\r\n注：您的好友下单需要使用微信支付您才能获得现金奖励哦～",showCancel:!1,confirmText:"我知道了"}):e&&n.globalData.getPathTap(e)}}};e.default=a}).call(this,n("543d")["default"])},d48e:function(t,e,n){"use strict";var a=n("08f1"),i=n.n(a);i.a}},[["14d9","common/runtime","common/vendor"]]]);